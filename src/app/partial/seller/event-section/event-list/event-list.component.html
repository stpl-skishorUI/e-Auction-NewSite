<vex-page-layout>

    <vex-secondary-toolbar current="User Right Access" class=" fixed border-0 bg-transparent drop-shadow-none top-1 z-[99] w-8/12">
      <vex-breadcrumbs [crumbs]="['User Right Access']"></vex-breadcrumbs>
    </vex-secondary-toolbar>
  
    <vex-page-layout-content 
      [class.px-gutter]="layoutCtrl.value === 'fullwidth'" class="-mt-6">
      <div class="my-3 card p-3 border-0 shadow-none">
        <form [formGroup]="filterForm" class="white">
            <div class="row g-2">
                <div class="col-sm-auto">
                    <mat-form-field appearance="outline" class=" ">
                        <mat-label>Select Event Level</mat-label>
                        <mat-select formControlName="eventLevel">
                            <mat-option *ngFor="let selectLevel of staticDropdownService.getSelectLevel(true)" [value]="selectLevel.val">
                                {{selectLevel.text}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-3">
                    <mat-form-field appearance="outline">
                        <mat-label>Choose a Date Range </mat-label>
                        <mat-date-range-input [rangePicker]="picker">
                            <input matStartDate placeholder="From date" formControlName="fromDate">
                            <input matEndDate placeholder="To date" formControlName="toDate">
                        </mat-date-range-input>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-date-range-picker #picker [disabled]="false">
                        </mat-date-range-picker>
                    </mat-form-field>
                </div>
                <div class="col-sm-auto">
                    <mat-form-field appearance="outline" class="">
                        <mat-label>Select Status</mat-label>
                        <mat-select formControlName="status">
                            <mat-option *ngFor="let apprRej of staticDropdownService.approvedStatus()" [value]="apprRej.val">
                                {{apprRej.text}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Search By Event Id</mat-label>
                        <input matInput placeholder="Search By Event Id" formControlName="searchtext"
                            autocomplete="off">
                    </mat-form-field>
                </div>

                <div class="col-sm-auto align-self-end">
                    <button type="submit" (click)="filterData()" mat-stroked-button
                        class="btn-gray bg-transparent border rounded ms-1">
                        <mat-icon class="">search</mat-icon>Apply
                    </button>
                </div>
            </div>
        </form>
      </div>
  
      <div class="card overflow-auto">
        <!-- <div class="bg-app-bar px-6 h-16 border-b sticky left-0 flex items-center">
          <span class="flex-1"></span>
          <button [matMenuTriggerFor]="columnFilterMenu" class="ml-4 flex-none" mat-icon-button
            matTooltip="Filter Columns" type="button">
            <mat-icon svgIcon="mat:filter_list"></mat-icon>
          </button>
        </div> -->
  
        <table @stagger [dataSource]="dataSource" class="w-full" mat-table matSort>
  
          <!--- Note that these columns can be defined in any order.
                                The actual rendered columns are set as a property on the row definition" -->
  
          <!-- sr No column -->
          <ng-container matColumnDef="srNo">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Sr.No </th>
            <td mat-cell *matCellDef="let element;let i=index"> {{((pageNumber + 1) * 10 + i + 1)-20}}</td>
          </ng-container>
  
          <!-- Text Columns -->
          <ng-container *ngFor="let column of columns; trackBy: commonService.trackByProperty">
            <ng-container *ngIf="column.type === 'text'" [matColumnDef]="column.property">
              <th *matHeaderCellDef class="uppercase" mat-header-cell mat-sort-header> {{ column.label }}</th>
              <td *matCellDef="let row" [ngClass]="column.cssClasses" mat-cell>{{ row[column.property] }}</td>
            </ng-container>
          </ng-container>
  
          <!-- Action Column -->
          <!-- <ng-container matColumnDef="readOnly">
            <th *matHeaderCellDef mat-header-cell mat-sort-header>Read Only</th>
            <td *matCellDef="let row" class="w-10 text-secondary" mat-cell>
              <mat-checkbox class="example-margin" [checked]="row?.readRight"
                (change)="readOnlyFN($event, row, 'readOnly')"></mat-checkbox>
            </td>
          </ng-container>
  
          <ng-container matColumnDef="readWrite">
            <th *matHeaderCellDef mat-header-cell mat-sort-header>Read And Write</th>
            <td *matCellDef="let row" class="w-10 text-secondary" mat-cell>
              <mat-checkbox class="example-margin" [checked]="row?.writeRight"
                (change)="readWriteFN($event, row, 'readWrite')"></mat-checkbox>
            </td>
          </ng-container>-->
  
          <tr *matHeaderRowDef="visibleColumns" mat-header-row></tr>
          <tr *matRowDef="let row; columns: visibleColumns;" @fadeInUp
            class="hover:bg-hover trans-ease-out cursor-pointer" mat-row></tr>
        </table> 
  
        <mat-paginator [pageSizeOptions]="pageSizeOptions" [pageSize]="pageSize" [length]="totalRows"
          (page)="pageChanged($event)" class="sticky left-0">
        </mat-paginator>
  
      </div>
  
      <div class="flex mt-3 justify-end" align="end">
        <button type="button" mat-raised-button class="bg-gray-300 mr-2" >
          Clear
        </button>
        <button type="submit" mat-raised-button color="primary">
          Submit
        </button>
      </div>
    </vex-page-layout-content>
  